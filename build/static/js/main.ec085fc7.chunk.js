(this.webpackJsonpdtmoney=this.webpackJsonpdtmoney||[]).push([[0],{103:function(t,n,e){"use strict";e.r(n);var r=e(1),a=e.n(r),c=e(30),i=e.n(c),o=e(6),s=e(18),d=e.n(s),l=e(10),b=e.n(l),u=e(65),j=e(37),h=e(19),m=e(52),p=e.n(m).a.create({baseURL:"http://localhost:3000/api"}),g=e(0),x=Object(r.createContext)({});function O(t){var n=t.children,e=Object(r.useState)([]),a=Object(o.a)(e,2),c=a[0],i=a[1];function s(){return(s=Object(h.a)(b.a.mark((function t(n){var e,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.post("/transactions",Object(j.a)(Object(j.a)({},n),{},{createdAt:new Date}));case 2:e=t.sent,r=e.data.transaction,i([].concat(Object(u.a)(c),[r]));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){p.get("transactions").then((function(t){return i(t.data.transactions)}))}),[]),Object(g.jsx)(x.Provider,{value:{transactions:c,createTransaction:function(t){return s.apply(this,arguments)}},children:n})}function f(){return Object(r.useContext)(x)}var v,y,w=e.p+"static/media/income.d58effe2.svg",F=e.p+"static/media/outcome.6eb96d30.svg",k=e.p+"static/media/total.e90c2d1e.svg",C=e(3),D=e(4),E=D.b.div(v||(v=Object(C.a)(["\n    display:grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 2rem;\n    margin-top: -10rem;\n\n    div{\n        background: var(--shape);\n        padding: 1.5rem 2rem;\n        border-radius: 0.25rem;\n        color: var(--text-title);\n        header{\n            display:flex;\n            align-items: center;\n            justify-content: space-between;\n        }\n\n        strong{\n            display:block;\n            margin-top: 1rem;\n            font-size: 2rem;\n            font-weight: 500;\n            line-height: 3rem;\n        }\n    \n        &.hightlight-background{\n            background: var(--green);\n            color: #FFF;\t\n}\n    }\n    \n"])));function N(){var t=f().transactions.reduce((function(t,n){return"deposit"===n.type?(t.deposits+=n.amount,t.total+=n.amount):(t.withdraws+=n.amount,t.total-=n.amount),t}),{deposits:0,withdraws:0,total:0});return Object(g.jsxs)(E,{children:[Object(g.jsxs)("div",{children:[Object(g.jsxs)("header",{children:[Object(g.jsx)("p",{children:"Entradas"}),Object(g.jsx)("img",{src:w,alt:"Entradas"})]}),Object(g.jsx)("strong",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.deposits)})]}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("header",{children:[Object(g.jsx)("p",{children:"Sa\xeddas"}),Object(g.jsx)("img",{src:F,alt:"Sa\xeddas"})]}),Object(g.jsxs)("strong",{children:["-",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.withdraws)]})]}),Object(g.jsxs)("div",{className:"highlight-background",children:[Object(g.jsxs)("header",{children:[Object(g.jsx)("p",{children:"Total"}),Object(g.jsx)("img",{src:k,alt:"Total"})]}),Object(g.jsx)("strong",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.total)})]})]})}var R,S=D.b.div(y||(y=Object(C.a)(["\n    margin-top: 4rem;\n\n    table{\n        width: 100%;\n        border-spacing: 0 0.5rem;\n\n        th{\n            color: var(--text-body);\n            font-weight: 400;\n            padding: 1rem 2rem;\n            text-align: left;\n            line-height: 1.5rem;\n        }\n\n        td{\n            padding: 1rem 2rem;\n            border:0;\n            background: var(--shape);\n            color: var(--text-body);\n            border-radius: 0.25rem;\n\n            &:first-child{\n                color: var(--text-title);\n            }\n\n            &.deposit{\n                color: var(--green);\n            }\n\n            &.withdraw{\n                color: var(--red);\n            }\n        }\n    }\n"])));function B(){var t=f().transactions;return Object(g.jsx)(S,{children:Object(g.jsxs)("table",{children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"T\xedtulo"}),Object(g.jsx)("th",{children:"Valor"}),Object(g.jsx)("th",{children:"Castegoria"}),Object(g.jsx)("th",{children:"Data"})]})}),Object(g.jsx)("tbody",{children:t.map((function(t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t.title}),Object(g.jsx)("td",{className:t.type,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.amount)}),Object(g.jsx)("td",{children:t.category}),Object(g.jsx)("td",{children:new Intl.DateTimeFormat("pt-BR").format(new Date(t.createdAt))})]},t.id)}))})]})})}var z=D.b.main(R||(R=Object(C.a)(["\n    max-width: 1120px;\n    margin: 0 auto;\n    padding: 2.5rem 1rem;\n"])));function A(){return Object(g.jsxs)(z,{children:[Object(g.jsx)(N,{}),Object(g.jsx)(B,{})]})}var T,I,L=e.p+"static/media/logo.614d71d1.svg",q=D.b.header(T||(T=Object(C.a)(["\n    background: var(--blue);\n"]))),J=D.b.div(I||(I=Object(C.a)(["\n    max-width: 1120px;\n    margin: 0 auto;\n\n    padding: 2rem 1rem 12rem;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    button{\n        font-size: 1rem;\n        color: #FFF;\n        background: var(--blue-light);\n        border: 0;\n        padding: 0 2rem;\n        border-radius: 0.25rem;\n        height: 3rem;\n\n        &:hover{\n            filter: brightness(0.9);\n            transition: filter 0.2s;\n        }\n    }\n"])));function M(t){var n=t.onOpenNewTransactionModal;return Object(g.jsx)(q,{children:Object(g.jsxs)(J,{children:[Object(g.jsx)("img",{src:L,alt:"dt money"}),Object(g.jsx)("button",{type:"button",onClick:n,children:"Nova transa\xe7\xe3o"})]})})}var P,V,U,G,H=e.p+"static/media/close.f62862c6.svg",K=e(35),Q=D.b.form(P||(P=Object(C.a)(['\n    h2{\n\t\tcolor: var(--text-title);\n\t\tfont-size: 1.5rem;\n\t\tmargin-bottom: 2rem;\n\t}\n\n\tinput {\n\t\twidth: 100%;\n\t\tpadding: 0 1.5rem;\n\t\theight: 4rem;\n\t\tborder-radius: 0.25rem;\n\t\t\n\t\tborder: 1px solid #D7D7D7;\n\t\tbackground: #E7E9EE;\n\n\t\tfont-weight: 400;\n\t\tfont-size: 1rem;\n\n\t\t&::placeholder{\n\t\t\tcolor: var(--text-body);\n\t\t}\n\n\t\t& + input {\n\t\t\tmargin-top: 1rem;\n\t\t}\n\t}\n\n    button[type="submit"] {\n        width: 100%;\n        padding: 0 1.5rem;\n        height: 4rem;\n        background: var(--green);\n        color: #FFF;\n        border-radius: 0.25rem;\n        border: 0;\n        font-size: 1rem;\n        margin-top: 1.5rem;\n        font-weight: 600;\n        transition: filter 0.2s;\n\n        &:hover {\n            filter: brightness(0.9);\n        }\n    }\n\n']))),W=D.b.div(V||(V=Object(C.a)(["\n    margin: 1rem 0;\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 0.5rem;\n"]))),X={green:"#33CC95",red:"#E52E4D"},Y=D.b.button(U||(U=Object(C.a)(["\n    height: 4rem;\n    border: 1px solid #D7D7D7;\n    border-radius: 0.25rem;\n    \n    background: ",";\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    transition: border-color 0.2s;\n\n    &:hover{\n        border-color: ",";\n    }\n\n    img {\n        width: 20px;\n        height: 20px;\n    }\t\t\t\n\n    span {\n        display: inline-block;\n        margin-left: 1rem;\n        font-size: 1rem;\n        color: var(--text-title);\n    }\n"])),(function(t){return t.isActive?Object(K.b)(.9,X[t.activeColor]):"transparent"}),Object(K.a)(.1,"#D7D7D7"));function Z(t){var n=t.isOpen,e=t.onRequestClose,a=f().createTransaction,c=Object(r.useState)(""),i=Object(o.a)(c,2),s=i[0],l=i[1],u=Object(r.useState)(0),j=Object(o.a)(u,2),m=j[0],p=j[1],x=Object(r.useState)(""),O=Object(o.a)(x,2),v=O[0],y=O[1],k=Object(r.useState)("deposit"),C=Object(o.a)(k,2),D=C[0],E=C[1];function N(){return(N=Object(h.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,a({title:s,amount:m,category:v,type:D});case 3:l(""),p(0),y(""),E("deposit"),e();case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(g.jsxs)(d.a,{isOpen:n,onRequestClose:e,overlayClassName:"react-modal-overlay",className:"react-modal-content",children:[Object(g.jsx)("button",{type:"button",onClick:e,className:"react-modal-close",children:Object(g.jsx)("img",{src:H,alt:"Fechar modal"})}),Object(g.jsxs)(Q,{onSubmit:function(t){return N.apply(this,arguments)},children:[Object(g.jsx)("h2",{children:"Cadastrar transa\xe7\xe3o"}),Object(g.jsx)("input",{placeholder:"T\xedtulo",value:s,onChange:function(t){return l(t.target.value)}}),Object(g.jsx)("input",{type:"number",placeholder:"Valor",value:m,onChange:function(t){return p(Number(t.target.value))}}),Object(g.jsxs)(W,{children:[Object(g.jsxs)(Y,{type:"button",onClick:function(){return E("deposit")},isActive:"deposit"===D,activeColor:"green",children:[Object(g.jsx)("img",{src:w,alt:"Entrada"}),Object(g.jsx)("span",{children:"Entrada"})]}),Object(g.jsxs)(Y,{type:"button",onClick:function(){return E("withdraw")},isActive:"withdraw"===D,activeColor:"red",children:[Object(g.jsx)("img",{src:F,alt:"Sa\xedda"}),Object(g.jsx)("span",{children:"Sa\xedda"})]})]}),Object(g.jsx)("input",{placeholder:"Categoria",value:v,onChange:function(t){return y(t.target.value)}}),Object(g.jsx)("button",{type:"submit",children:"Cadastrar"})]})]})}var $=Object(D.a)(G||(G=Object(C.a)(["\n    :root {\n        --background: #F8F2F5;\n        --red: #E52E4D;\n        --blue: #5429CC;\n        --green: #33CC95;\n\n        --blue-light: #6933FF;\n\n        --text-title: #363F5F;\n        --text-body: #969CB3;\n\n        --background: #F0F2F5;\n        --shape: #FFFFFF;\t\n    }\n\n    *{\n        margin:0;\n        padding:0;\n        box-sizing: border-box;\n    }\n\n    html{\n        @media (max-width: 1080px){\n            font-size: 93.75%; //15px\n        }\n\n        @media (max-width: 720px){\n            font-size: 87.5%; //14px\n        }\t\n    }\n\n    body{\n        background: var(--background);\n        -webkit-font-smoothing: antialiased;\n    }\n    \n    body, input, textarea, button{\n        font-family: 'Poppins', sans-serif;\n        font-weight: 400;\n    }\n\n    h1, h2, h3, h4, h5, h6, strong{\n        font-weight: 600;\n    }\n\n    button{\n        cursor: pointer;\n    }\n\n    [disabled]{\n        opacity: 0.6;\n        cursor: not-allowed;\n    }\n\n    .react-modal-overlay{\n\t\tbackground: rgba(0,0,0,0.5);\n\n\t\tposition: fixed;\n\t\ttop:0;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\tleft: 0;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t.react-modal-content {\n\t\twidth: 100%;\n\t\tmax-width: 576px;\n\t\tbackground: var(--background);\n\t\tpadding: 3rem;\n\t\tposition: relative;\n\t\tborder-radius: 0.24rem;\t\t\n\t}\n\n    .react-modal-close {\n\t\tposition: absolute;\n\t\tright: 1.5rem;\n\t\ttop: 1.5rem;\n\t\tborder: 0;\n\t\tbackground: transparent;\n\n\t\ttransition: filter 0.2s;\t\n\n\t\t&:hover {\n\t\t\tfilter: brightness(0.8);\n\t\t}\n\t}\n"])));function _(){var t=Object(r.useState)(!1),n=Object(o.a)(t,2),e=n[0],a=n[1];return Object(g.jsxs)(O,{children:[Object(g.jsx)(M,{onOpenNewTransactionModal:function(){a(!0)}}),Object(g.jsx)(A,{}),Object(g.jsx)(Z,{isOpen:e,onRequestClose:function(){a(!1)}}),Object(g.jsx)($,{})]})}d.a.setAppElement("#root");var tt=e(36);Object(tt.b)({models:{transaction:tt.a},seeds:function(t){t.db.loadData({transactions:[{id:1,title:"Freelance de website",type:"deposit",category:"Dev",amount:6e3,createdAt:new Date("2021-02-12 09:00:00")},{id:2,title:"Aluguel",type:"withdraw",category:"Casa",amount:1100,createdAt:new Date("2021-02-14 11:00:00")}]})},routes:function(){var t=this;this.namespace="api",this.get("/transactions",(function(){return t.schema.all("transaction")})),this.post("/transactions",(function(t,n){var e=JSON.parse(n.requestBody);return t.create("transaction",e)}))}}),i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(_,{})}),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.ec085fc7.chunk.js.map